<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
  crossorigin="anonymous"
>
{{ 'custom-product.css' | asset_url | stylesheet_tag }}

<div class="container mt-5">
  {% assign product = all_products['bump-support-leggings-black-1'] %}

  <div class="card" style="width: 25rem;">
    <a href="{{ product.url }}">
      <img src="{{ product.featured_image | image_url : width : 200  }}" class="card-img-top" alt="{{ product.title }}">
    </a>
    <div class="card-body">
      <h5 class="card-title">{{ product.title }}</h5>
      <form method="post" action="/cart/add">
        {% assign current_variant = product.selected_or_first_available_variant %}
        <input
          id="product-id"
          data-quantity="{{ current_variant.inventory_quantity }}"
          type="hidden"
          name="id"
          value="{{ current_variant.id }}"
        >
        {% if product.variants.size > 1 %}
          <div class="product-options">
            {% for option in product.options_with_values %}
              <label> {{ option.name }} </label>
              <div class="product-button">
                {% for value in option.values %}
                  <div class="single-value">
                    <input
                      type="radio"
                      {% if option.selected_value == value %}
                        checked
                      {% endif %}
                      value="{{ value }}"
                      name="{{ option.name }}"
                      id="{{ option.name | handleize }}-{{ value | handleize }}"
                    >
                    <label for="{{ option.name | handleize }}-{{ value | handleize }}"> {{ value }} </label>
                  </div>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
        {% endif %}

        <div class="d-none master-select">
          <select name="id" id="Variants-{{ section.id }}" class="select__select">
            {%- for variant in product.variants -%}
              <option data-quantityvariant="{{ variant.inventory_quantity }}"
                {% if variant == product.selected_or_first_available_variant %}
                  selected="selected"
                {% endif %}
                {% if variant.available == false %}
                  disabled
                {% endif %}
                data-title="{{ variant.title }}"
                value="{{ variant.id }}"
              >
                {{ variant.title }}
                {%- if variant.available == false %} - {{ 'products.product.sold_out' | t }}{% endif %}
                - {{ variant.price | money | strip_html }}
              </option>
            {%- endfor -%}
          </select>
        </div>

        <div class="button-wrapper d-flex input-group mb-2">
          <button type="button"  id="quant-minus" class="btn btn-dark quantity-minus"> Minus </button>
          <input 
            type=""
            id="quantity"
            value="1"
            name="quantity"
            min="1" />
          <button type="button" id="quant-plus"  class="btn btn-dark quantity-plus"> plus </button>
        </div>
        <div class="add-to-cart">
          <button type="submit" name="add" id="add-cart-btn" class="btn btn-dark w-100"
            {% unless current_variant.available %} disabled {% endunless %}>
          {% if current_variant.available %}
            Add to cart
          {% else %}
            Out of Stock
          {% endif %}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script type="application/json" id="product-json">
  {{ product | json }}
</script>

<script type="application/json" id="product-variants-json">
  {{ product.variants | json }}
</script>

{{ 'custom-product.js' | asset_url | script_tag }}

{% schema %}
{
  "name": "Custom Variant Product",
  "settings": [],
  "presets":[
      {
        "name" : "Custom Variant Product",
        "category" : "Custom Sections"
      }
  ]
}
{% endschema %}
